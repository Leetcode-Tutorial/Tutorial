### 题目分析
找出二叉树结点对应的值的先序遍历。举个例子
```cpp
 1
  \
   2
  /
 3
```
返回 `[1,2,3]`。
### 解题思路（1）
对应的 `C++` 代码，在 `solution1.cpp` 中。

*递归求解先序遍历问题：*
* 记录当前结点的值 `val`；
* 遍历左子树，得到左子树的先序遍历值列表 `left_list`；
* 遍历右子树，得到右子树的先序遍历值列表 `right_list`；
* 组合当前结点的值和两个子树的值列表 `val left_list right_list`，得到以当前结点为根结点的子树的先序遍历并返回。

### 解题思路（2）
对应的 `C++` 代码，在 `solution2.cpp` 中。

利用额外的空间记录先序遍历的结果，但是效率没上一个好，有点奇怪。
```cpp
void preorder(TreeNode* root){
        if (!root)  return;
        value_list.emplace_back(root->val);
        preorder(root->left);
        preorder(root->right);
        return;
    }
```

### 解题思路（3）
对应的 `C++` 代码，在 `solution3.cpp` 中。

***不使用递归，使用循环进行先序遍历。***

看下面的二叉树
```cpp
	8
  /   \
 9     6
  \
   4
  / \
 3   5
```
这棵二叉树的先序遍历是：`8->9->4->3->5->6`.

当遍历叶子结点`3`之后，我们需要知道`3`之后的结点是哪个。由于`3`的父结点的右子树还没有被遍历，所以之后的结点是`3`的父结点的右孩子。

*有些结点的右子树还没有被遍历*

遍历`3`的时候，结点`8 和 4`的右子树都还没有被遍历，所以遍历`3`之后，应该遍历`4`的右子树。而遍历`5`之后，只有结点`8`的右子树还没有被遍历，所以遍历`5`之后，应该遍历`8`的右子树。

*在遍历一个叶子结点之后，应该找到右子树还没有被遍历的最近祖先结点*

在这个例子中，`3`的右子树还没有被遍历的最近祖先结点是`4`；`5`的右子树还没有被遍历的最近祖先结点是`8`；而`9`的左孩子可以看作是一个空结点，也可以认为是叶子结点，则它的右子树还没有被遍历的最近祖先结点是`9`。

*使用栈结构来记录那些右子树还没有被遍历的祖先结点*

在遍历一个叶子结点之后，我们想要最近的右子树还没有被遍历的祖先结点，所以使用栈的结构来记录右子树还没有被遍历的祖先结点，在栈中越是靠近栈顶的结点里当前叶子结点越近。

***使用栈结构进行先序遍历***
* 从根结点开始，沿着左分支，走到没有左孩子为止，并将沿途经过的结点按顺序压入栈中；
```cpp
while(root){
	//record preorder traversal
    value_list.emplace_back(root->val);
    stack.emplace_back(root->right);
    root = root->left;
}
```
在这里我们压入栈中的是祖先结点的右结点，很直观。走到没有左孩子等同于我们已经遍历了一个空结点，相当于一个叶子结点，比如`9`的左孩子。
* 遍历完一个叶子结点之后，从栈顶取出结点继续按第一步的方式遍历。
```cpp
	root = stack.back();
	stack.pop_back();
```
* 当栈为空且当前结点为空指针的时候，二叉树的先序遍历就完成了。

***演示算法流程***

`stack`*的首元素表示栈顶*

初始：`stack=[]` `value_list=[]`。

遍历结点`8`：`stack=[6]`	`value_list=[8]`。

遍历结点`9`：`stack=[4,6]` `value_list=[8,9]`。

**结点**`9`**的没有左孩子，从栈顶取下一个要遍历的结点**`4`**。**

遍历结点`4`：`stack=[6]` `value_list=[8,9,4]`。

遍历结点`3`：`stack=[5,6]` `value_list=[8,9,4,3]`。

**结点**`3`**是叶子结点，从栈顶取下一个要遍历的结点**`5`**。**

遍历结点`5`：`stack=[6]` `value_list=[8,9,4,3,5]`。

**结点**`5`**是叶子结点，从栈顶取下一个要遍历的结点**`6`**。**

遍历结点`6`：`stack=[]` `value_list=[8,9,4,3,5,6]`。

**栈为空且当前结点为空指针，先序遍历结束。**