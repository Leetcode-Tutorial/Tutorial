## 题目分析

个人认为题目描述不清，根据揣摩题意+根据自己提交后AC的代码应该是这样的：股票在n天中每一天都有一个价格，最多进行k次交易（买进卖出算作一次，买进后在卖出前不能再买），求能够获得的最大收益。

## 题解思路

### 解法1

收益和两个因素有关：天数和交易次数。为了方便起见我们将交易次数扩展为两倍，并且规定当第奇数次交易时必须是买进，第偶数次交易时必须是卖出。假设每天的价格是`cost[i]`
那么我们就可以按照两个因素设计状态`f[i][j]`表示**第i天已经进行了j次交易后的最大收益**。这个状态是比较简单的，可以直接通过前一天的j或者j-1的状态转移来，具体来说就是：

`f[i][j]= max:`

+ f[i-1][j] (不交易)
+ f[i-1][j-1]-cost[i] (j是奇数)
+ f[i-1][j-1]+cost[i] (j是偶数)

容易发现，在这个解法中，时空复杂度都是`O(nk)`。

### 解法2

我们发现其实每一天的状态都只需要知道前一天的状态。故而我们可以利用**滚动数组**优化掉第一维。一个比较简单的方法是第一维只需要设置长度为2，第一维0存前一天，第一维1存今天计算的结果。每一天计算结束后把第一维1的结果存到第一维的0中。但其实这样也没必要只需要每一天计算时从后往前计算便可完全消除第一维，因为每一个j计算时都只被比他小的j影响，所以从后往前计算能够保证更新而来的值来自前一天。具体来说就是：

`f[j]= max:`

+ f[j-1]-cost[i] (j是奇数)
+ f[j-1]+cost[i] (j是偶数)

那么为什么转移方程没有“不交易”这个选择呢？其实不交易已经隐含在取max中了，因为不交易的结果即dp[j]不改变，所以我们对于每个选项取max即已经考虑了“不交易”。

因为用了滚动数组所以空间复杂度为`O(k)`，时间复杂度为`O(nk)`。细心的读者也许已经发现了，经典的01背包即是使用了这样的方法优化内存。


