## 题目分析：

有n个洗衣机，每个洗衣机中有一些衣服，数量不一定相同，对于每一次操作，可以选择其中任意m个洗衣机(m是一个任意选取的值，而且选择的洗衣机位置不一定连续)，将这m个之中每一个洗衣机中的衣服传递给相邻的洗衣机(左边或者右边)，问最少经过多少次操作，可以使得n个洗衣机的衣服都相同，如果无法达成，就输出-1。

### 解题思路：
要满足首先想到n个洗衣机最后每个洗衣机的衣服数要相同，那最初衣服的总数`sum`要满足`sum%n=0`。同理我们也就可以得到每个洗衣机最后的衣服数avg就等于`sum/n`，那么第i个洗衣机最初的衣服数与最后的衣服数的差值就是`machines[i]-avg`。
所以我们要求出每个洗衣机`a`需要从与其相邻的右边的洗衣机`b`得到多少衣服，当然，正值就是`b->a`，负值就是`a->b`。这样对每个洗衣机从左往右扫一遍，依次求出每个洗衣机给了左边洗衣机一定的衣服，让其达到`avg`之后自己还剩下的衣服数。
这样，统计每个洗衣机所需要的操作数，互不影响的操作可以同时进行，所以这么多操作中的最大值就是答案。但是要注意两个相邻的洗衣机的操作数如果左边正值`x`，右边负值`y`，说明右边洗衣机要先给左边的洗衣机`x`件衣服，而且还要给它自身右边的洗衣机`y`件衣服，这两个是不能同时操作的，所以需要用两个操作数绝对值的和更新最大值。
以上算法只需要遍历两遍n个洗衣机，算法复杂度`O(n)`。

#### 算法正确性：
算法的关键在于要保证任意两个洗衣机之间所传递的是单向进行的，这样才能保证最少的操作数，因为如果a传给b一部分x，然后b又传给a一部分y，那直接a传给b一共x-y个这样所用的操作数更少。而不会影响的操作都可以同时进行，会相互影响的操作只有同一台洗衣机既向左边传递，又向右边传递，这时候不能同时进行，需要分开考虑。如此一来可以保证操作数最少。