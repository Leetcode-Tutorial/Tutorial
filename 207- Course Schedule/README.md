## 题目分析：
现有*n*门课程——从`0`标记至`n-1`，以及*m*对序列`[x,y]`来表示y是x的先修课程。现要求判断当前给出的关系是否合理，以至于能够顺利完成所有课程。

### 解题思路(1): 
对于给定的序列，我们将其转换为图模型以表达出对应的关系。如对于序列`[0,1]`，我们建立一条从`1`指向`0`号点的单向边。  
后思考什么样的图是非法的？应为整张图中至少存在一个环路时，整张图非法。因为若两个节点*x*与*y*存在于同一环之内，则课程*y*是*x*的先修课程，同时*x*也是*y*的先修课程。  
该种图模型实质上是一张拓扑图，若其当前要求输出修习课程的序列时，下面的拓扑算法实质上更为通用。只要该拓扑图能够存在一合法的拓扑解，则所有课程能够顺利修习完成。  
拓扑算法的过程如下所述：  
1. 每次在图中寻找一**入度为0**节点，若当前无法找到且图中还有未被删除的节点，则说明当前图能存在环，无解；
2. 拓展从该节点出发的有向边能到达的另一节点，将其入度剪一；
3. 从图中删除该节点，若删除的节点数目已达到N则表示所有节点均已输出，存在一个合法解；否则回到过程1.   


~~该种算法最坏情况下将平均对每个节点访问`$\frac{N}{2}$`次，因此时间复杂度为`O(N^2)`~~  
可以用一个队列存储待处理的入度为0的点，每次取出一个节点，删除所有出边。这样可以做到每个点与每条边均只访问一次，时间复杂度为`O(N+M)`
### 解题思路(2):   
由于该题并没有要求输出这张图的拓扑序，因此仅需判断该图是否合法即可。因此可以使用`DFS`的方式来寻找该图当中是否存在环路。  
+ 每次从任意一点未被访问过的节点出发，向下进行深搜，如果在一条深搜的路径上，可访问一个节点两次，则说明当前路径已构成一条环，则整张图无解。  
+ 如果一个节点之前在另一个深搜过程已经被遍历过，并且没有找到环，则没有再次进行搜索的必要。原因为该节点不可能存在于任意一个环中，**否则在早先的DFS搜索过程中，其已被找出**。  

该种做法只访问每个节点一次、每条边一次，因此整体时间复杂度为`O(N+M)`。
