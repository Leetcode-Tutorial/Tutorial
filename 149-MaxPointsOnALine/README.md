## 题目分析

给二维平面上n个点，问最大共线的点数

### 解题思路 

由于两点定线，那么最简单的办法就是枚举两个端点，然后枚举第三个点，判断是否三点共线，这样的复杂度是O(n^3)。

虽然这样的复杂度可以通过，但我们可以做的更好。

我们考虑直线的另外定义，即一个点和一个方向可以定一条直线。我们可以先枚举点，那么只要方向相同，就是同一条直线了。这里的方向，最常见的度量就是斜率，我们可以维护每个斜率出现的次数，取决于怎样维护斜率，使用map的话，复杂度是O(n^2lgn)的，使用hashmap的话复杂度是O(n^2)的。

这样也可以通过，不过我们可以做的更好。

斜率的有两个问题，一个是计算精度问题，一个是斜率可能无穷大。我们考虑下斜率的定义`y/x`，如果我们把它看做分数的话，我们就可以去维护`(分母，分子)`的出现次数，当然，是化简后的分数。如果分母为0话，我们只需要存(1,0)就好了。

### 例子

点(1,1),(2,3),(3,3),(3,6),(4,4),(1,2)，假设现在枚举的是点(1,1)。
(2,3)对应的分数是(3-1,2-1)=(2,1)
(3,3)对应的分数是(3-1,3-1)=(2,2)=(1,1)
(3,6)对应的分数是(3-1,6-1)=(2,5)
(2,4)对应的分数是(4-1,4-1)=(3,3)=(1,1)
(1,2)对应的分数是(2-1,1-1)=(1,0)

方向为(1,1)的最多，有2个，那么答案就是3。