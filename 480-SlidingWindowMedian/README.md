## 题目分析：

给定一个数组nums，有一个长度为k的窗口从最左端往最右端滑。问：在滑动过程中出现的所有中位数。如果k为偶数，则中位数为居中两数的平均值。

### 解题思路（1）
暴力排序`(i, i+k)`区间的数，取其中位数。时间复杂度为`O((n-k)*klogk)`。很遗憾，会超时。
### 解题思路（2）
我们需要一个支持插入与删除，并快速求中位数的数据结构。考虑`multiset`。`multiset`不能快速求取中位数，但我们如果构造两个`multiset`，一个保存前一半的数，另一个保存后一半的数，我们就能轻易求得中位数。期间插入删除时，维护好两个`multiset`。
### 解题思路（3）
延续思路2。但我们只用一个`multiset`和一个迭代器指针。迭代器指针指向中位数。插入与删除时，适当调整迭代器指针的指向即可。为了防止迭代器失效，可以在erase前检查迭代器指的元素是否是被erase的元素，如果是，先调整指针后再erase(直接erase迭代器将造成迭代器失效)。
#### 算法的正确性：
以思路2为例。`[1  3  -1 -3  5  3  6  7]`, `k = 3`。那么一开始两个multiset为`{-1}, {1, 3}`, 中位数为`1`; `{-3}, {-1, 3}`, 中位数为`-1`; `{-3}, {-1, 5}`, 中位数为`-1`; `{-3}, {3, 5}`, 中位数为`3`;  `{3}, {5, 6}`, 中位数为`5`;  `{3}, {6, 7}`, 中位数为`6`。 故答案为 `[1,-1,-1,3,5,6]`。
